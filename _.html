<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Checker Mini - Apprendre JavaScript</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&display=swap');
        
        * {
            font-family: 'Fira Code', monospace;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .floating {
            animation: float 5s ease-in-out infinite;
        }
        
        .code-editor {
            background-color: #1e1e1e;
            color: #d4d4d4;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .editor-header {
            background-color: #2d2d2d;
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #3e3e3e;
        }
        
        .editor-body {
            padding: 15px;
            min-height: 200px;
        }
        
        .line-numbers {
            color: #858585;
            text-align: right;
            padding-right: 10px;
            user-select: none;
        }
        
        .code-input {
            background: transparent;
            border: none;
            color: #d4d4d4;
            width: 100%;
            height: 100%;
            resize: none;
            outline: none;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .test-case {
            background-color: #2a2a2a;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 10px;
        }
        
        .success {
            color: #4ade80;
        }
        
        .error {
            color: #f87171;
        }
        
        .bg-grid-pattern {
            background-image: 
                linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        /* Animation simple et fiable */
        .fade-in-up {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease-out forwards;
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .hero-title {
            animation: fadeInUp 1s ease-out 0.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .hero-subtitle {
            animation: fadeInUp 1s ease-out 0.6s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .hero-buttons {
            animation: fadeInUp 1s ease-out 1s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* Effet de pulse pour attirer l'attention */
        @keyframes pulse-glow {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
            }
            50% { 
                box-shadow: 0 0 30px rgba(16, 185, 129, 0.8);
            }
        }
        
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        /* Animation de rebond pour l'icône */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .bounce {
            animation: bounce 2s infinite;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen bg-grid-pattern">
    <div x-data="app()" class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-gray-800 py-4 px-6 shadow-lg">
            <div class="container mx-auto flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center floating">
                        <i class="fas fa-code text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">Code Checker Mini</h1>
                        <p class="text-xs text-gray-400">Apprenez JavaScript en pratiquant</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button @click="toggleDarkMode()" class="p-2 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors" title="Changer le thème">
                        <i x-show="!darkMode" class="fas fa-moon"></i>
                        <i x-show="darkMode" class="fas fa-sun"></i>
                    </button>
                    <a href="#challenges" class="px-4 py-2 bg-green-600 hover:bg-green-500 rounded-lg transition-colors pulse-glow">
                        Commencer
                    </a>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="py-16 px-4 text-center">
            <div class="container mx-auto max-w-4xl">
                <div class="w-20 h-20 bg-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6 bounce">
                    <i class="fas fa-laptop-code text-white text-2xl"></i>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold mb-4 hero-title">
                    Apprenez JavaScript en Pratiquant
                </h1>
                <p class="text-xl text-gray-300 mb-8 max-w-2xl mx-auto hero-subtitle">
                    Code Checker Mini est une plateforme interactive pour débutants. 
                    Résolvez des défis de codage et recevez des feedbacks instantanés.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center hero-buttons">
                    <a href="#editor" class="px-6 py-3 bg-green-600 hover:bg-green-500 rounded-lg transition-colors font-medium pulse-glow">
                        <i class="fas fa-play mr-2"></i>Essayer maintenant
                    </a>
                    <a href="#features" class="px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors font-medium">
                        <i class="fas fa-info-circle mr-2"></i>En savoir plus
                    </a>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section id="features" class="py-12 px-4 bg-gray-800/50">
            <div class="container mx-auto max-w-6xl">
                <h2 class="text-3xl font-bold text-center mb-12 fade-in-up">Pourquoi utiliser Code Checker Mini ?</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center p-6 fade-in-up" style="animation-delay: 0.2s">
                        <div class="w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-bolt text-white text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Feedback Immédiat</h3>
                        <p class="text-gray-300">Testez votre code et obtenez des résultats instantanés avec nos tests automatisés.</p>
                    </div>
                    <div class="text-center p-6 fade-in-up" style="animation-delay: 0.4s">
                        <div class="w-16 h-16 bg-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-graduation-cap text-white text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Apprentissage Progressif</h3>
                        <p class="text-gray-300">Des défis simples aux concepts avancés, progressez à votre rythme.</p>
                    </div>
                    <div class="text-center p-6 fade-in-up" style="animation-delay: 0.6s">
                        <div class="w-16 h-16 bg-green-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-code text-white text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Pratique Réelle</h3>
                        <p class="text-gray-300">Écrivez du vrai JavaScript dans un environnement sécurisé et éducatif.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <main id="editor" class="flex-grow container mx-auto px-4 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Left Column - Challenges & Tips -->
                <div class="lg:col-span-1 space-y-6">
                    <!-- Challenge List -->
                    <div id="challenges" class="bg-gray-800 rounded-xl p-6 shadow-lg">
                        <h2 class="text-xl font-bold mb-4 flex items-center">
                            <i class="fas fa-list-check mr-2 text-green-400"></i>
                            Défis JavaScript
                        </h2>
                        <div class="space-y-3">
                            <template x-for="(challenge, index) in challenges" :key="challenge.id">
                                <div 
                                    class="p-3 rounded-lg cursor-pointer transition-all"
                                    :class="{
                                        'bg-gray-700 border-l-4 border-green-500': currentChallenge.id === challenge.id,
                                        'bg-gray-900 hover:bg-gray-700': currentChallenge.id !== challenge.id
                                    }"
                                    @click="selectChallenge(challenge)"
                                >
                                    <div class="flex justify-between items-center">
                                        <span x-text="challenge.title"></span>
                                        <span class="text-xs px-2 py-1 rounded-full" 
                                              :class="challenge.difficulty === 'easy' ? 'bg-green-900 text-green-300' : 
                                                      challenge.difficulty === 'medium' ? 'bg-yellow-900 text-yellow-300' : 
                                                      'bg-red-900 text-red-300'"
                                              x-text="challenge.difficulty"></span>
                                    </div>
                                    <div class="text-xs text-gray-400 mt-1" x-text="challenge.description.substring(0, 60) + '...'"></div>
                                </div>
                            </template>
                        </div>
                    </div>

                    <!-- Daily Tip -->
                    <div class="bg-gray-800 rounded-xl p-6 shadow-lg">
                        <h2 class="text-xl font-bold mb-4 flex items-center">
                            <i class="fas fa-lightbulb mr-2 text-yellow-400"></i>
                            Astuce du jour
                        </h2>
                        <div class="bg-gray-900 p-4 rounded-lg">
                            <h3 class="font-bold text-green-400 mb-2" x-text="dailyTip.title"></h3>
                            <p class="text-sm" x-text="dailyTip.content"></p>
                        </div>
                    </div>

                    <!-- Progress -->
                    <div class="bg-gray-800 rounded-xl p-6 shadow-lg">
                        <h2 class="text-xl font-bold mb-4 flex items-center">
                            <i class="fas fa-chart-line mr-2 text-blue-400"></i>
                            Votre progression
                        </h2>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>Défis complétés</span>
                                    <span x-text="`${completedChallenges.length}/${challenges.length}`"></span>
                                </div>
                                <div class="w-full bg-gray-700 rounded-full h-2.5">
                                    <div class="bg-green-600 h-2.5 rounded-full" 
                                         :style="`width: ${(completedChallenges.length / challenges.length) * 100}%`"></div>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="bg-gray-900 p-3 rounded-lg text-center">
                                    <div class="text-2xl font-bold text-green-400" x-text="completedChallenges.length"></div>
                                    <div class="text-xs">Complétés</div>
                                </div>
                                <div class="bg-gray-900 p-3 rounded-lg text-center">
                                    <div class="text-2xl font-bold text-yellow-400" x-text="getTotalPoints()"></div>
                                    <div class="text-xs">Points gagnés</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Center Column - Editor & Output -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Challenge Description -->
                    <div class="bg-gray-800 rounded-xl p-6 shadow-lg">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h2 class="text-xl font-bold mb-2" x-text="currentChallenge.title"></h2>
                                <p class="text-gray-300 mb-4" x-text="currentChallenge.description"></p>
                            </div>
                            <span class="text-xs px-3 py-1 rounded-full" 
                                  :class="currentChallenge.difficulty === 'easy' ? 'bg-green-900 text-green-300' : 
                                          currentChallenge.difficulty === 'medium' ? 'bg-yellow-900 text-yellow-300' : 
                                          'bg-red-900 text-red-300'"
                                  x-text="currentChallenge.difficulty"></span>
                        </div>
                        <div class="bg-gray-900 p-4 rounded-lg">
                            <h3 class="font-bold text-green-400 mb-2">Exemple :</h3>
                            <pre class="text-sm" x-text="currentChallenge.example"></pre>
                        </div>
                    </div>

                    <!-- Code Editor -->
                    <div class="code-editor rounded-xl shadow-lg">
                        <div class="editor-header">
                            <div class="text-sm">votre_code.js</div>
                            <div class="flex space-x-2">
                                <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                            </div>
                        </div>
                        <div class="editor-body">
                            <div class="flex">
                                <div class="line-numbers w-10">
                                    <div x-text="Array.from({length: code.split('\n').length}, (_, i) => i + 1).join('\n')"></div>
                                </div>
                                <textarea 
                                    x-model="code" 
                                    class="code-input" 
                                    rows="10"
                                    placeholder="// Écrivez votre code ici"
                                ></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="flex justify-between">
                        <button @click="resetCode()" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors">
                            <i class="fas fa-redo mr-2"></i>Réinitialiser
                        </button>
                        <button @click="runTests()" class="px-6 py-2 bg-green-600 hover:bg-green-500 rounded-lg transition-colors flex items-center pulse-glow">
                            <i class="fas fa-play mr-2"></i>Tester le code
                        </button>
                    </div>

                    <!-- Test Results -->
                    <div class="bg-gray-800 rounded-xl p-6 shadow-lg" x-show="testResults.length > 0">
                        <h2 class="text-xl font-bold mb-4 flex items-center">
                            <i class="fas fa-vial mr-2 text-blue-400"></i>
                            Résultats des tests
                            <span class="ml-2 text-sm" 
                                  :class="allTestsPassed ? 'text-green-400' : 'text-red-400'"
                                  x-text="`(${passedTestsCount}/${currentChallenge.tests.length} réussis)`">
                            </span>
                        </h2>
                        <div class="space-y-3">
                            <template x-for="(result, index) in testResults" :key="index">
                                <div class="test-case">
                                    <div class="flex justify-between items-center mb-2">
                                        <span x-text="`Test ${index + 1}`"></span>
                                        <span class="text-sm" :class="result.passed ? 'success' : 'error'">
                                            <i :class="result.passed ? 'fas fa-check-circle' : 'fas fa-times-circle'" class="mr-1"></i>
                                            <span x-text="result.passed ? 'Réussi' : 'Échec'"></span>
                                        </span>
                                    </div>
                                    <div class="text-sm">
                                        <div>Entrée: <span class="text-green-400" x-text="result.input"></span></div>
                                        <div>Attendu: <span class="text-blue-400" x-text="result.expected"></span></div>
                                        <div>Reçu: <span :class="result.passed ? 'text-green-400' : 'text-red-400'" x-text="result.received"></span></div>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>

                    <!-- Success Message -->
                    <div x-show="challengeCompleted" class="bg-green-900/30 border border-green-700 rounded-xl p-6 shadow-lg">
                        <div class="flex items-center">
                            <i class="fas fa-trophy text-yellow-400 text-2xl mr-4"></i>
                            <div>
                                <h3 class="text-xl font-bold text-green-400">Félicitations !</h3>
                                <p class="mt-1">Vous avez réussi ce défi. Passez au suivant !</p>
                                <p class="text-sm text-green-300 mt-2" x-text="`+${getChallengePoints(currentChallenge)} points gagnés`"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 py-6 px-4 mt-8">
            <div class="container mx-auto text-center text-gray-400">
                <p>Code Checker Mini - Un outil éducatif pour apprendre JavaScript</p>
                <p class="mt-2 text-sm">© 2025 Daniel_Tech - Développé avec <i class="fas fa-heart text-red-500"></i> pour les étudiants en programmation</p>
            </div>
        </footer>
    </div>

    <script>
        function app() {
            return {
                darkMode: true,
                code: '',
                currentChallenge: {},
                testResults: [],
                challengeCompleted: false,
                allTestsPassed: false,
                passedTestsCount: 0,
                completedChallenges: [],
                
                challenges: [
                    {
                        id: 1,
                        title: "Vérifier si un nombre est pair",
                        description: "Écrivez une fonction qui prend un nombre en paramètre et retourne true si le nombre est pair, false sinon.",
                        difficulty: "easy",
                        example: "isEven(4) → true\nisEven(7) → false",
                        initialCode: "function isEven(num) {\n  // Votre code ici\n  // Astuce: utilisez l'opérateur modulo %\n  // Un nombre est pair si num % 2 === 0\n  return num % 2 === 0;\n}",
                        tests: [
                            { input: "4", expected: true },
                            { input: "7", expected: false },
                            { input: "0", expected: true },
                            { input: "-2", expected: true }
                        ]
                    },
                    {
                        id: 2,
                        title: "Vérifier si un nombre est premier",
                        description: "Écrivez une fonction qui prend un nombre en paramètre et retourne true si le nombre est premier, false sinon.",
                        difficulty: "medium",
                        example: "isPrime(7) → true\nisPrime(10) → false",
                        initialCode: "function isPrime(num) {\n  // Votre code ici\n  // Un nombre premier est divisible seulement par 1 et lui-même\n  if (num <= 1) return false;\n  for (let i = 2; i <= Math.sqrt(num); i++) {\n    if (num % i === 0) return false;\n  }\n  return true;\n}",
                        tests: [
                            { input: "7", expected: true },
                            { input: "10", expected: false },
                            { input: "2", expected: true },
                            { input: "1", expected: false }
                        ]
                    },
                    {
                        id: 3,
                        title: "Calculer la factorielle",
                        description: "Écrivez une fonction qui prend un nombre en paramètre et retourne sa factorielle.",
                        difficulty: "medium",
                        example: "factorial(5) → 120\nfactorial(0) → 1",
                        initialCode: "function factorial(num) {\n  // Votre code ici\n  if (num === 0 || num === 1) return 1;\n  let result = 1;\n  for (let i = 2; i <= num; i++) {\n    result *= i;\n  }\n  return result;\n}",
                        tests: [
                            { input: "5", expected: 120 },
                            { input: "0", expected: 1 },
                            { input: "3", expected: 6 },
                            { input: "1", expected: 1 }
                        ]
                    },
                    {
                        id: 4,
                        title: "Inverser une chaîne de caractères",
                        description: "Écrivez une fonction qui prend une chaîne de caractères en paramètre et retourne cette chaîne inversée.",
                        difficulty: "easy",
                        example: "reverseString('hello') → 'olleh'",
                        initialCode: "function reverseString(str) {\n  // Votre code ici\n  return str.split('').reverse().join('');\n}",
                        tests: [
                            { input: "'hello'", expected: "olleh" },
                            { input: "'JavaScript'", expected: "tpircSavaJ" },
                            { input: "''", expected: "" },
                            { input: "'a'", expected: "a" }
                        ]
                    }
                ],
                
                dailyTip: {
                    title: "L'opérateur modulo",
                    content: "L'opérateur modulo (%) retourne le reste de la division d'un nombre par un autre. Par exemple, 10 % 3 retourne 1 car 10 divisé par 3 donne 3 avec un reste de 1. C'est très utile pour vérifier si un nombre est pair (num % 2 === 0)."
                },
                
                init() {
                    this.selectChallenge(this.challenges[0]);
                },
                
                selectChallenge(challenge) {
                    this.currentChallenge = challenge;
                    this.code = challenge.initialCode;
                    this.testResults = [];
                    this.challengeCompleted = false;
                    this.allTestsPassed = false;
                    this.passedTestsCount = 0;
                },
                
                runTests() {
                    this.testResults = [];
                    this.challengeCompleted = false;
                    this.allTestsPassed = false;
                    this.passedTestsCount = 0;
                    
                    try {
                        eval(this.code);
                        
                        let allPassed = true;
                        let passedCount = 0;
                        
                        for (let test of this.currentChallenge.tests) {
                            const functionName = this.extractFunctionName(this.code);
                            const result = eval(`${functionName}(${test.input})`);
                            const passed = JSON.stringify(result) === JSON.stringify(test.expected);
                            
                            if (passed) passedCount++;
                            else allPassed = false;
                            
                            this.testResults.push({
                                input: test.input,
                                expected: test.expected,
                                received: result,
                                passed: passed
                            });
                        }
                        
                        this.passedTestsCount = passedCount;
                        this.allTestsPassed = allPassed;
                        
                        if (allPassed && !this.completedChallenges.includes(this.currentChallenge.id)) {
                            this.challengeCompleted = true;
                            this.completedChallenges.push(this.currentChallenge.id);
                        }
                        
                    } catch (error) {
                        this.testResults.push({
                            input: "N/A",
                            expected: "N/A",
                            received: `Erreur: ${error.message}`,
                            passed: false
                        });
                    }
                },
                
                extractFunctionName(code) {
                    const match = code.match(/function\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/);
                    return match ? match[1] : null;
                },
                
                resetCode() {
                    this.code = this.currentChallenge.initialCode;
                    this.testResults = [];
                    this.challengeCompleted = false;
                    this.allTestsPassed = false;
                    this.passedTestsCount = 0;
                },
                
                toggleDarkMode() {
                    this.darkMode = !this.darkMode;
                    document.body.classList.toggle('bg-gray-900', this.darkMode);
                    document.body.classList.toggle('bg-gray-100', !this.darkMode);
                },
                
                getChallengePoints(challenge) {
                    return { 'easy': 10, 'medium': 20, 'hard': 30 }[challenge.difficulty] || 10;
                },
                
                getTotalPoints() {
                    return this.completedChallenges.reduce((total, id) => {
                        const challenge = this.challenges.find(c => c.id === id);
                        return total + this.getChallengePoints(challenge);
                    }, 0);
                }
            }
        }
    </script>
</body>
</html>